{"version":3,"file":"static/js/797.3f59d63c.chunk.js","mappings":"sMAWMA,GAAcC,EAAAA,EAAAA,GAAiB,IAkB/BC,GAAiBC,EAAAA,EAAAA,GAAU,CAAEC,KAAM,SAAlBD,EAhBL,SAAHE,GAAiC,IAA3BC,EAAYD,EAAZC,aAAcC,EAAKF,EAALE,MAC/B,OACIC,EAAAA,EAAAA,MAAA,QAAMC,SAAUH,EAAaI,SAAA,EACxBC,EAAAA,EAAAA,GAAY,QAAS,QAAS,QAAS,CAACC,EAAAA,EAAUZ,GAAca,EAAAA,IAChEF,EAAAA,EAAAA,GAAY,WAAY,WAAY,QAAS,CAACC,EAAAA,GAAWC,EAAAA,EAAa,CAAEC,KAAM,cAC9EH,EAAAA,EAAAA,GAAY,KAAM,aAAc,QAAS,KAAME,EAAAA,EAAa,CAAEC,KAAM,YAAc,eAClFP,IAASQ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAAA,EAAMC,iBAAiBR,SAC5CH,KAELQ,EAAAA,EAAAA,KAAA,OAAAL,UACIK,EAAAA,EAAAA,KAAA,UAAAL,SAAQ,cAIxB,IAwBA,WAAeS,EAAAA,EAAAA,KALS,SAACC,GAAK,MAAM,CAChCC,OAAQD,EAAME,KAAKD,OACtB,GAGuC,CAAEE,MAAAA,EAAAA,IAA1C,EApBc,SAACC,GAKX,OAAIA,EAAMH,QACCN,EAAAA,EAAAA,KAACU,EAAAA,GAAQ,CAACC,GAAG,cAGjBlB,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACHK,EAAAA,EAAAA,KAAA,MAAAL,SAAI,WACJK,EAAAA,EAAAA,KAACb,EAAc,CAACO,SAVH,SAACkB,GACdH,EAAMD,MAAMI,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAC5D,MAUJ,G,gKCvCajB,EAAc,SAAHR,GAAuC,IAAjC0B,EAAK1B,EAAL0B,MAAOC,EAAI3B,EAAJ2B,KAASC,GAASC,EAAAA,EAAAA,GAAA7B,EAAA8B,GAC7CC,EAAWJ,EAAKK,SAAWL,EAAKzB,MACtC,OACIC,EAAAA,EAAAA,MAAA,OAAKQ,UAAS,GAAAsB,OAAKC,EAAAA,EAAOC,YAAW,KAAAF,OAAIF,GAAYG,EAAAA,EAAOhC,OAAQG,SAAA,EAChEK,EAAAA,EAAAA,KAAA,OAAAL,UACIK,EAAAA,EAAAA,KAACkB,EAAUQ,OAAKC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKT,GAAeF,GAAWC,MAElDI,IAAYrB,EAAAA,EAAAA,KAAA,QAAAL,SAAOsB,EAAKzB,UAGrC,EAEaI,EAAc,SAACgC,EAAaC,EAAMH,EAAOI,EAAYC,GAAoC,IAAzBtB,EAAKuB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAGG,EAAIH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC1F,OACAvC,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACIK,EAAAA,EAAAA,KAACoC,EAAAA,GAAKT,EAAAA,EAAAA,GAAA,CAACC,YAAaA,EAAaC,KAAMA,EAAMH,MAAOA,EAAOW,SAAUP,EAAYC,UAAWA,GAAetB,IAAS0B,IAE5H,C,8ECtBO,IAAMtC,EAAW,SAAAyC,GACpB,IAAKA,EAAO,MAAO,mBAEvB,EAEapD,EAAmB,SAACqD,GAAQ,OAAK,SAACD,GAC3C,GAAIA,EAAML,OAASM,EAAU,MAAM,iBAANhB,OAAwBgB,EAAQ,WAEjE,CAAC,C,qBCPD,KAAgB,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB,wC","sources":["components/Login/Login.jsx","components/common/FormsControls/FormsControls.jsx","components/utils/validators/validators.js","webpack://my-app/./src/components/common/FormsControls/FormsControls.module.css?eb50"],"sourcesContent":["import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { FormControl } from \"../common/FormsControls/FormsControls\";\r\nimport { maxLengthCreator, required } from \"../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\";\r\nimport { createField } from \"../common/FormsControls/FormsControls\";\r\n\r\n\r\nconst maxLength40 = maxLengthCreator(40);\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", \"email\", \"input\", [required, maxLength40], FormControl)}\r\n            {createField(\"Password\", \"password\", \"input\", [required], FormControl, { type: \"password\" })}\r\n            {createField(null, \"rememberMe\", \"input\", null, FormControl, { type: \"checkbox\" }, \"Remember me\")}\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Navigate to=\"/profile\" />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\"\r\nimport { Field } from \"redux-form\";\r\n\r\n\r\nexport const FormControl = ({ input, meta, ...restProps }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={`${styles.formControl} ${hasError && styles.error}`}>\r\n            <div>\r\n                <restProps.child {...restProps} {...input} {...meta} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, child, validators, component, props={}, text = \"\") => {\r\n    return (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name} child={child} validate={validators} component={component} {...props}/>{text}\r\n    </div>)\r\n}","export const required = value => {\r\n    if (!value) return \"Field is required\";\r\n    return undefined;\r\n}\r\n\r\nexport const maxLengthCreator = (maxValue) => (value) => {\r\n    if (value.length > maxValue) return `Max length is ${maxValue} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__EUGJ+\",\"error\":\"FormsControls_error__srujM\",\"formSummaryError\":\"FormsControls_formSummaryError__AKM+F\"};"],"names":["maxLength40","maxLengthCreator","LoginReduxForm","reduxForm","form","_ref","handleSubmit","error","_jsxs","onSubmit","children","createField","required","FormControl","type","_jsx","className","style","formSummaryError","connect","state","isAuth","auth","login","props","Navigate","to","formData","email","password","rememberMe","input","meta","restProps","_objectWithoutProperties","_excluded","hasError","touched","concat","styles","formControl","child","_objectSpread","placeholder","name","validators","component","arguments","length","undefined","text","Field","validate","value","maxValue"],"sourceRoot":""}